---
title: "キャンパスペイ便利システムの構築"
date: 2023-06-19T15:42:51+09:00
draft: false
github_link: "https://github.com/tubisuke/CanpaspaySystem"
author: 
tags:
  - 開発
  - Python
  - JavaScript

image: /images/blogs/post01.jpg
description: ""
toc: 
---

## はじめに
#### いつごろ作ったのか
- 今回作成したのは，大学のキャンパスペイ便利システムです．このシステムは，大学2年時の「応用プログラミングC」の授業で作成したものになります．

#### 目的
- 目的としては，静岡大学の生協で使用することができる決済カードである「キャンパスペイ」の残高確認や履歴確認を行うためのシステムを作ることです．
  - このシステムを作った当時は，キャンパスペイの残高確認や履歴確認を行うための公式アプリが存在しなかったため，自分で作成することにしました．
  - （なお，現在は便利なアプリが公式から公開されました．．）

## 技術スタック
- Python
- JavaScript
- IoT（NFC）

## アイデア
- このシステムのポイントは，キャンパスペイをキーとしてどれだけ楽に残高確認や履歴確認を行えるかということです．
  - 元々，生協サイトにログインすれば，残高を確認することはできましたが，ログインするのが面倒だったり，そもそもそのサイトを知らない学生も多いという状況でした．
  - そこで，**キャンパスペイをかざすだけ**で残高確認や履歴確認ができるシステムの構築を行うことにしました．

## システムの概要
- システムの利用イメージは以下の通りです．
  - カードリーダーにキャンパスペイをかざし，ログイン情報を保存しておくことで，以降はキャンパスペイをかざすだけで残高確認や履歴確認ができます．

<img src=/images/blogs/post01/image01.png width=75%>

## 利用イメージ
- システムの利用イメージは以下の通りです．

#### カードの読み取り
  - カードをかざすだけで，カードの情報を読み取ります．
    - 新規登録の場合は，カード情報とログイン情報を紐づけて保存します．
    - 既存のユーザーの場合は，カード情報からログイン情報を取得して，残高や利用履歴を表示します．

<video width="500"  controls muted src="/images/blogs/post01/movie01.mp4">
<p>動画を再生するにはvideoタグをサポートしたブラウザが必要です。</p>
</video>

#### 利用履歴の確認
##### 動画

<video width="50%"  controls muted src="/images/blogs/post01/movie02.mp4">
<p>動画を再生するにはvideoタグをサポートしたブラウザが必要です。</p>
</video>


##### 読み取り画面
- 読み込みボタンを押すことで，pythonのfelicaカード読み取りプログラムが呼び出され，読み取りが行われます．

<img src=/images/blogs/post01/image02.png width=50%>

##### 新規登録画面
- データベースに登録されていないユーザがカードを読み込んだ場合に，新規登録画面に遷移し，idm(カード識別番号)に対応したユーザIDとパスワードを入力します．

<img src=/images/blogs/post01/image03.png width=50%>

##### モード選択画面
- 残高表示とランキング表示の2つの機能の選択を行います．

<img src=/images/blogs/post01/image04.png width=50%>

##### 残高確認画面
- 視覚的に残高を表示します.

<img src=/images/blogs/post01/image05.png width=50%>

##### 購入品ランキング画面
- 1年間の購入品の中で，購入回数が多い上位3品を表示します．

<img src=/images/blogs/post01/image06.png width=50%>




  